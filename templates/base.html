<!DOCTYPE html>
<html lang="en">
<head>
	<title>Simple AD Manager |{% block title %}
        {% endblock %}</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="./static/css/util.css">
    <link rel="stylesheet" type="text/css" href="./static/css/main.css">
    <link rel="stylesheet" type="text/css" href="./static/css/style.css">
    <link rel="stylesheet" type="text/css" href="./static/css/style2.css">
    <link href="./static/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
    
    <link rel="stylesheet" type="text/css" href="./static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.2.2/css/buttons.bootstrap.min.css">
    
    <script src="./static/js/jquery-3.5.1.js" type="text/javascript"></script>
    <script src="./static/js/jquery.dataTables.min.js" type="text/javascript"></script>
    <script src="./static/js/scripts.js" type="text/javascript"></script>
    

<!--===============================================================================================-->

</head>
<body onload="myFunction()">
    <div class="topnavigation" id="myTopnav">
        <img src="./static/images/main.png" alt="Simple AD Manager" width="60" height="60">
        <a2>Simple AD Manager</a2>
        <p class="loggedinfo">
            <img src="./static/images/profile.png" alt="profile" width="60" height="60">
            <a3>{{loggedUser}}</a3>
        </p>
    </div>
    <div id="loader"></div>
    <div class="tab">
        {% block content %}
        {% endblock %}
    </div>
    <div style="display:none;" class="content-tab" id="content-tab">
        {% block content6 %}
        {% endblock %}
        <div id="dashboard" class=tabcontent>
            {% block content1 %}
            {% endblock %}
        </div>
        <div id="Users" class=tabcontent>
            {% block content2 %}
            {% endblock %}
        </div>
        <div id="Groups" class=tabcontent>
            {% block content3 %}
            {% endblock %}
        </div>
        <div id="Reports" class=tabcontent>
            {% block content4 %}
            {% endblock %}
        </div>
        <div id="Configurations" class=tabcontent>
            {% block content5 %}
            {% endblock %}
        </div>
        <div id="AccessManagement" class=tabcontent>
            {% block content7 %}
            {% endblock %}
        </div>
        <div id="lockedUsers" class=tabcontent>
            {% block content8 %}
            {% endblock %}
        </div>
        <div id="initial" class=tabcontent>
            {% block content9 %}
            {% endblock %}
        </div>
        
        <div id="LoginLogs" class=tabcontent>
            {% block content10 %}
            {% endblock %}
        </div>
    </div>
    
    <script>
        function openCompany(evt, companyName) {
            var i, x, tablinks;
            x = document.getElementsByClassName("company");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < x.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" w3-grey", "");
            }
            document.getElementById(companyName).style.display = "block";
            evt.currentTarget.className += " w3-grey";
        }
        var myVar;

        function myFunction() {
            myVar = setTimeout(showPage, 150);    
        }

        function showPage() {
            document.getElementById("loader").style.display = "none";
            document.getElementById("content-tab").style.display = "block";
        }

        function navFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
            x.className += " responsive";
        } else {
            x.className = "topnav";
        }
        }
        function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
        }

        // Get the element with id="defaultOpen" and click on it
        document.getElementById("defaultOpen").click();

        var el_up = document.getElementById("GFG_UP");
        var username = document.getElementById("staffUsername"); 
        var fullname = document.getElementById("staffnames"); 
        var email = document.getElementById("staffemail"); 
        var title = document.getElementById("stafftitle"); 
        var department = document.getElementById("staffdepartment"); 
        var creationdate = document.getElementById("staffcreationdate"); 
        
        function viewInfo_Click(clicked) { 
            username.innerHTML =clicked;
        } 
        function setValue(clicked) {
            staffusername.innerHTML = clicked;
            alert(clicked)
        }

        var dropdown = document.getElementsByClassName("tablinks-user");
        var i;

        for (i = 0; i < dropdown.length; i++) {
        dropdown[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
        dropdownContent.style.display = "none";
        } else {
        dropdownContent.style.display = "block";
        }
        });
        }

        function exportTableToCSV(filename) {
            var csv = [];
            var rows = document.querySelectorAll("table tr");
            
            for (var i = 0; i < rows.length; i++) {
                var row = [], cols = rows[i].querySelectorAll("td, th");
                
                for (var j = 0; j < cols.length; j++) 
                    row.push(cols[j].innerText);
                
                csv.push(row.join(","));        
            }

            // Download CSV file
            downloadCSV(csv.join("\n"), filename);
        }

        function downloadCSV(csv, filename) {
            var csvFile;
            var downloadLink;

            // CSV file
            csvFile = new Blob([csv], {type: "text/csv"});

            // Download link
            downloadLink = document.createElement("a");

            // File name
            downloadLink.download = filename;

            // Create a link to the file
            downloadLink.href = window.URL.createObjectURL(csvFile);

            // Hide download link
            downloadLink.style.display = "none";

            // Add the link to DOM
            document.body.appendChild(downloadLink);

            // Click download link
            downloadLink.click();
        }


        
        
        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("myBtnAdd");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function() {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>


</body>

</html>